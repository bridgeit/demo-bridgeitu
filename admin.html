<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>BridgeIt U</title>
    <meta name="generator" content="Bootply" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <link rel="icon" type="image/png" href="favicon.png"/>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/bridgeit-u.css" type="text/css" />

    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- bridgeit.js UNSTABLE VERSION -->
    <script src="http://bridgeit.github.io/bridgeit.js/src/bridgeit.js"></script>
    <!-- bridgeit.js STABLE VERSION
    <script src="http://api.bridgeit.mobi/bridgeit/bridgeit.js"></script -->

    <script src="javascript/bridgeit-u.js"></script>

    <!-- CSS code from Bootply.com editor -->

    <style type="text/css">
        .navbar-static-top {
            margin-bottom:20px;
        }

        i {
            font-size:16px;
        }

        .nav > li > a {
            color:#787878;
        }

        footer {
            margin-top:20px;
            padding-top:20px;
            padding-bottom:20px;
            background-color:#efefef;
        }

        /* count indicator near icons */
        .nav>li .count {
            position: absolute;
            bottom: 12px;
            right: 6px;
            font-size: 10px;
            font-weight: normal;
            background: rgba(51,200,51,0.55);
            color: rgba(255,255,255,0.9);
            line-height: 1em;
            padding: 2px 4px;
            -webkit-border-radius: 10px;
            -moz-border-radius: 10px;
            -ms-border-radius: 10px;
            -o-border-radius: 10px;
            border-radius: 10px;
        }

        /* indent 2nd level */
        .list-unstyled li > ul > li {
            margin-left:10px;
            padding:8px;
        }

        /* style for modal login */
        .modal-footer {   border-top: 0px; }
    </style>

</head>

<!-- HTML code from Bootply.com editor -->
<body  >

<!-- Header -->
<div id="top-nav" class="navbar navbar-inverse navbar-static-top">
    <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <p class="icon-toggle"></p>
          </button>
          <h4 class="navbar-text">BridgeIt U Dashboard</h4>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a id="loginIcon" data-toggle="modal" href="#loginModal"><i class="glyphicon glyphicon-lock"></i> Login</a></li>
          </ul>
        </div>
    </div><!-- /container -->
</div>
<!-- /Header -->

<!-- Main -->
<div class="container">
    <div class="row">
        <div class="col-md-3">
            <!-- Left column -->
            <ul class="nav nav-stacked">
                <li class="active"><a href="http://bridgeit.mobi/" title="BridgeIt Website" target="_blank">BridgeIt Website</a></li>
                <li><a href="http://github.com/bridgeit/" title="BridgeIt GitHub" target="_blank">BridgeIt GitHub</a></li>
            </ul>
            <hr>
            <div id="noticesPanel" class="panel panel-default">
                <div class="panel-heading"><h4>Notices</h4></div>
                <div id="alertDiv" class="panel-body"></div>
            </div>
        </div>
        <div class="col-md-9">
            <!-- column 2 -->
            <div class="row">
                <!-- center left-->
                <div class="col-md-6">
                    <div class="panel panel-default">
                        <div class="panel-heading"><h4>Events</h4></div>
                        <div class="panel-body">
                            <form>
                                <div id="evntLst" class="list-group">
                                </div>
                            </form>
                        </div><!--/panel-body-->
                    </div><!--/panel-->
                </div>
                <div id='crtEvntDiv' class="col-md-6">
                    <div class="panel panel-default">
                        <!-- Create Event -->
                        <div class="panel-heading">
                            <div class="panel-title">
                            <i class="glyphicon glyphicon-wrench pull-right"></i>
                            <h4>Create Event</h4>
                            </div>
                        </div>
                        <div class="panel-body">
                            <form id="crtEvntFrm" class="form form-vertical">
                                <div class="control-group">
                                  <label>Event Name</label>
                                  <div class="controls">
                                   <input id="name" name="name"
                                          type="text"
                                          class="form-control"
                                          placeholder="Enter Event Name">
                                  </div>
                                </div>
                                <div class="control-group">
                                  <label>Event Details</label>
                                  <div class="controls">
                                    <textarea id="details" name="details"
                                              class="form-control"
                                              placeholder="Enter Event Details"></textarea>
                                  </div>
                                </div>
                                <div class="control-group">
                                    <label></label>
                                    <div class="controls">
                                    <button type="submit" class="btn btn-primary">
                                      Create
                                    </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div><!--/col-span-6-->
                <div id='evntNtfctnDiv' class="col-md-6">
                    <div class="panel panel-primary">
                        <!-- Event Notification -->
                        <div class="panel-heading">
                            <div class="panel-title">
                            <i class="glyphicon glyphicon-bullhorn pull-right"></i>
                            <h4>Event Notification</h4>
                            </div>
                        </div>
                        <div class="panel-body">
                            <form id="evntNtfctnFrm" class="form form-vertical">
                                <div class="control-group">
                                  <label id="ntfctnTextLabel"></label>
                                  <div class="controls">
                                   <input id="ntfctnText" name="ntfctnText"
                                          type="text"
                                          class="form-control"
                                          placeholder="Enter Notification Text">
                                  </div>
                                </div>
                                <div class="control-group">
                                    <label></label>
                                    <div class="controls">
                                    <button type="submit" class="btn btn-primary">
                                      Send
                                    </button>
                                    <button class="btn pull-right" type="button" onclick="toggleCreateNotifyEvent();">Cancel</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div><!--/col-span-6-->
            </div><!--/row-->
        </div><!--/col-span-9-->
    </div><!--/row-->
</div>
<!-- /Main -->

<footer class="text-center">This Bootstrap 3 dashboard layout is compliments of <a href="http://www.bootply.com/85850"><strong>Bootply.com</strong></a></footer>

<div class="modal" id="editModal">
    <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true" onclick="resetFormCSS(document.getElementById('edtEvntFrm'));">×</button>
            <h4 class="modal-title">Edit Event</h4>
          </div>
          <div class="modal-body">
              <form id="edtEvntFrm" class="form form-vertical">

                <div class="control-group">
                  <label>Event Name</label>
                  <div class="controls">
                   <input id="edtName" name="edtName"
                          type="text"
                          class="form-control">
                  </div>
                </div>

                <div class="control-group">
                  <label>Event Details</label>
                  <div class="controls">
                    <textarea id="edtDetails" name="edtDetails"
                              class="form-control"></textarea>
                  </div>
                </div>

                <div class="control-group">
                    <label></label>
                    <div class="controls">
                    <button type="submit" class="btn btn-primary">
                      Edit
                    </button>
                    </div>
                </div>

              </form>
          </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dalog -->
</div><!-- /.modal -->

<!--login modal-->
<div id="loginModal" class="modal" tabindex="-1" role="dialog" aria-hidden="true"
     data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
              <button id="loginCloseBttn" type="button" class="close" data-dismiss="modal" aria-hidden="true" onclick="resetLoginForm();">×</button>
              <h1 class="text-center">Login</h1>
            </div>
            <div class="modal-body">
              <form id="loginModalForm" class="form col-md-12 center-block">
                <div class="form-group">
                  <input id="userName" type="text" class="form-control input-lg" placeholder="Username">
                </div>
                <div class="form-group">
                  <input type="password" class="form-control input-lg" placeholder="Password">
                </div>
                <div class="form-group">
                <button class="btn btn-primary btn-lg btn-block" type="submit">Sign In</button>
                  <!--<span class="pull-right"><a href="#">Register</a></span><span><a href="#">Need help?</a></span>-->
                </div>
                <div id="alertLoginDiv"></div>
              </form>
            </div>
            <div class="modal-footer">
                <div class="col-md-12">
                    <button id="loginCancelBttn" class="btn" data-dismiss="modal" aria-hidden="true" onclick="resetLoginForm();">Cancel</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script type='text/javascript' src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>

<script type='text/javascript'>

    $(document).ready(function() {
        bridgeit.useServices({
                realm:"bridgeit.u",
                serviceBase:"http://dev.bridgeit.io"});

        $('#evntNtfctnDiv').hide();
        loginSubmit('admin');
        createEventSubmit();
        // No Admin token
        if(!sessionStorage.bridgeitUToken){
            // Force login by showing modal login and initially hide close and cancel buttons
            $('#loginModal').modal('show');
            $('#loginCloseBttn').hide();
            $('#loginCancelBttn').hide();
        // Valid Admin token - logged in
        } else if(tokenValid(sessionStorage.bridgeitUToken, sessionStorage.bridgeitUTokenExpires)){
            adminLoggedIn();
            registerPushUsernameGroup(sessionStorage.bridgeitUUsername);
        // Invalid Admin token - log out
        }else{
            adminLogout();
        }
    });

</script>
</body>
</html>